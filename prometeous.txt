2 servers t2.medium

go to official wesite of promoteous
--click on download
 -lts -> Linux -> copy the link

in master node
-wget link
ls
extrat the file
--delete the zip file
--go inside th file 
cd and ls
to run promotheous -- ./promoteous
paste 9090 with ip address

to monitor worker node

in expoerter copy link and extsrct
go inside

ğŸ§© Task: Monitor Worker Node Using Prometheus  
=============================================  
ğŸ“Œ Setup Prometheus on Master Node  
ğŸ“Œ Install Node Exporter on Worker Node  
ğŸ“Œ View metrics via Prometheus web UI (port 9090)

---------------------------------------------
ğŸ“Œ Prerequisites:
- Two EC2 instances (t2.medium)
- OS: Amazon Linux / Ubuntu (any Linux)
- Ports 9090 (Prometheus) and 9100 (Node Exporter) allowed in Security Group
- SSH access to both servers

================================================
ğŸ–¥ï¸ Master Node Setup (Prometheus)
================================================

ğŸ”— Step 1: Download Prometheus
- Go to: https://prometheus.io
- Click on "Download"
- Under "LTS â†’ Linux â†’ x86_64", copy the tar.gz link

Example link:
https://github.com/prometheus/prometheus/releases/download/v2.51.2/prometheus-2.51.2.linux-amd64.tar.gz

ğŸ’» Step 2: Connect to Master Node
ssh ec2-user@<master-public-ip>

â¬‡ï¸ Step 3: Download Prometheus
wget https://github.com/prometheus/prometheus/releases/download/v2.51.2/prometheus-2.51.2.linux-amd64.tar.gz

ğŸ“‚ Step 4: Extract and Clean Up
ls
tar -xvzf prometheus-2.51.2.linux-amd64.tar.gz
rm prometheus-2.51.2.linux-amd64.tar.gz
cd prometheus-2.51.2.linux-amd64
ls

ğŸš€ Step 5: Run Prometheus
./prometheus

ğŸŒ Step 6: Access Prometheus UI
http://<master-public-ip>:9090

Make sure port 9090 is allowed in the EC2 security group.

================================================
ğŸ–¥ï¸ Worker Node Setup (Node Exporter)
================================================

ğŸ”— Step 1: Download Node Exporter
- Go to: https://prometheus.io/download/
- Scroll to Node Exporter â†’ Linux â†’ x86_64
- Copy the tar.gz link

Example:
https://github.com/prometheus/node_exporter/releases/download/v1.8.1/node_exporter-1.8.1.linux-amd64.tar.gz

ğŸ’» Step 2: Connect to Worker Node
ssh ec2-user@<worker-public-ip>

â¬‡ï¸ Step 3: Download & Extract
wget https://github.com/prometheus/node_exporter/releases/download/v1.8.1/node_exporter-1.8.1.linux-amd64.tar.gz
tar -xvzf node_exporter-1.8.1.linux-amd64.tar.gz
rm node_exporter-1.8.1.linux-amd64.tar.gz
cd node_exporter-1.8.1.linux-amd64

ğŸš€ Step 4: Run Node Exporter
./node_exporter

Make sure port 9100 is allowed in the workerâ€™s EC2 security group.

================================================
ğŸ”§ Configure Prometheus to Monitor Worker Node
================================================

ğŸ“„ Step 1: Edit prometheus.yml on Master
cd prometheus-2.51.2.linux-amd64
nano prometheus.yml

âœï¸ Step 2: Add the following under scrape_configs:
  - job_name: 'worker-node'
    static_configs:
      - targets: ['<worker-private-ip>:9100']

Example:

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'worker-node'
    static_configs:
      - targets: ['172.31.20.45:9100']

ğŸ”„ Step 3: Restart Prometheus
(If Prometheus is running, stop it with Ctrl + C)

Then start again:
./prometheus

================================================
âœ… Final Verification
================================================

- Open Prometheus UI: http://<master-public-ip>:9090
- Click "Status" â†’ "Targets"
- You should see:
    - localhost:9090 (Prometheus itself)
    - <worker-private-ip>:9100 (Node Exporter)

Done âœ…


